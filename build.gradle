version = '1.0'
apply plugin: 'codenarc'

allprojects {
    apply plugin: 'groovy'
    apply plugin: 'codenarc'

    repositories {
        mavenCentral()
    }

    dependencies {
        compile group: 'org.codehaus.groovy', name:'groovy', version:'2.3.6'
        testCompile group: 'junit', name: 'junit', version: '4.11'
    }
}


task supernarc(type: CodeNarc) {
    def allGroovySourceDirs = subprojects.collect { Project p -> p.sourceSets.main.allGroovy.getSrcDirs() }.flatten()

    allGroovySourceDirs.each {
        source(it)
    }
    maxPriority1Violations = 5
    maxPriority2Violations = 5
    maxPriority3Violations = 5
}
